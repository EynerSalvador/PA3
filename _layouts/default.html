<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>{{ page.title }}</title>
  <link rel="stylesheet" href="/assets/css/styles.css">
</head>
<body>
  {% include nav.html %}
  
  <main>
    {{ content }}
  </main>

  <script>
  // Verificar autenticación
  document.addEventListener('DOMContentLoaded', () => {
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    const loginForm = document.getElementById('loginForm');
    const logoutBtn = document.getElementById('logoutBtn');
    
    if (currentUser && logoutBtn) {
      logoutBtn.style.display = 'block';
    }
    
    // Redirigir a login si intentan acceder a contenido protegido sin autenticación
    if (window.location.pathname.startsWith('/portfolio/') && !currentUser) {
      window.location.href = '/login';
    }
  });
  </script>
</body>
</html>
